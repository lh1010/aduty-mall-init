(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-team-index"],{"190d":function(t,a,i){var e=i("4301");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=i("967d").default;n("2beecb2a",e,!0,{sourceMap:!1,shadowMode:!1})},4301:function(t,a,i){var e=i("c86c");a=e(!1),a.push([t.i,".abox1[data-v-1c656753]{text-align:center;padding:50px 0 40px 0;color:#fff}.abox1 .vm1[data-v-1c656753]{font-size:36px;font-weight:600;letter-spacing:3px;margin-bottom:%?30?%}.abox1 .vm2[data-v-1c656753]{font-size:20px;letter-spacing:2px;margin-bottom:10px;font-style:italic}.abox1 .vm3[data-v-1c656753]{font-size:12px;margin-top:%?30?%}.abox2[data-v-1c656753]{width:%?700?%;margin:0 auto;background-color:#fff;border-radius:8px}.abox2 .bd[data-v-1c656753]{padding:%?40?% %?30?% %?50?% %?30?%}.abox2 .btn[data-v-1c656753]{background:linear-gradient(120deg,#fb9503,#fd5b0b);text-align:center;color:#fff;border-radius:25px;padding:5px 0;font-size:18px;margin-top:%?30?%}.abox2 .msg[data-v-1c656753]{text-align:center;color:#666}.abox3[data-v-1c656753]{width:%?700?%;margin:0 auto;background-color:#fff;border-radius:8px;margin-top:%?40?%;color:#666}.abox3 .bd[data-v-1c656753]{padding:%?40?% %?30?% %?50?% %?30?%}.abox3 .stitle[data-v-1c656753]{text-align:center}.abox3 .infobox[data-v-1c656753]{color:#a5623d;background-color:#fcf8e3;box-shadow:0 0 1px #f5e0c1;border-radius:8px;font-size:12px;padding:%?30?%;margin-top:%?30?%}.luck-table[data-v-1c656753]{border-radius:5px;overflow:hidden;font-size:12px;margin-top:%?30?%}.luck-table .luck-table-tr[data-v-1c656753]{display:flex}.luck-table .luck-table-th[data-v-1c656753]{flex:1;padding:8px 10px;background-color:#ffe6c9;font-weight:600;letter-spacing:1px;color:#333}.luck-table .luck-table-td[data-v-1c656753]{flex:1;padding:8px 10px}.luck-table .text-center[data-v-1c656753]{text-align:center}.invite_img[data-v-1c656753]{width:%?690?%;margin:0 auto}.invite_img .img[data-v-1c656753]{width:%?690?%;display:block}.invite_img .des[data-v-1c656753]{text-align:center;height:42px;line-height:42px;color:#666;font-size:12px}.invite_img .btn[data-v-1c656753]{width:85%;text-align:center;height:%?90?%;line-height:%?90?%;color:#fff;border:none;border-radius:%?10?%;background-color:#f4645f;margin:0 auto;margin-top:%?40?%}.loginbox[data-v-1c656753]{width:%?700?%;margin:0 auto;text-align:center}.loginbox .btn[data-v-1c656753]{width:%?600?%;margin:0 auto;background:linear-gradient(120deg,#fff,#eee);color:#555;font-weight:600;border-radius:20px;padding:10px;font-size:14px;letter-spacing:2px;box-shadow:0 5px 10px rgba(0,0,0,.15)}uni-page-body[data-v-1c656753]{height:100%}.page[data-v-1c656753]{min-height:100%;background:linear-gradient(#ff4c5e,#ff862e)}",""]),t.exports=a},"472d":function(t,a,i){"use strict";i.r(a);var e=i("8f6a"),n=i.n(e);for(var o in e)["default"].indexOf(o)<0&&function(t){i.d(a,t,(function(){return e[t]}))}(o);a["default"]=n.a},"8f6a":function(t,a,i){"use strict";i("6a54");var e=i("f5bd").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,o=e(i("39d8")),s=i("0831"),c=e(i("14e1")),l={components:{CustomTop:c.default},data:function(){return{loading:!0,logined:!1,user:{},data_list_loading:!0,data_list:[],poster_img:"",poster_img_origin:"",popupShow_poster:!1,config:{team:{}},allInviteprice:""}},onLoad:function(){var t=this;uni.showLoading(),s.request.post("/common/getConfig").then((function(a){uni.hideLoading(),t.config=a.data}))},onShow:function(){var t=this;s.request.post("/account/getLoginUser").then((function(a){uni.hideLoading(),t.loading=!1,a.data.id?(t.logined=!0,t.user=a.data,t.getAllInviteWallet(),t.getTeamUsers()):t.logined=!1}))},methods:(n={getAllInviteWallet:function(){var t=this;s.request.post("/account/getAllInviteWallet").then((function(a){t.allInviteprice=a.data}))},getTeamUsers:function(){var t=this;s.request.post("/account/getTeamUsers").then((function(a){t.data_list_loading=!1,t.data_list=a.data}))},createPosterImage:function(){var t=this;uni.showLoading({title:"生成中..."}),s.request.post("/account/createPosterImage",{},{responseType:"arraybuffer"}).then((function(a){uni.hideLoading(),t.poster_img_origin=a,t.poster_img="data:image/png;base64,"+uni.arrayBufferToBase64(a),t.popupShow_poster=!0}))},onPopupClose_poster:function(){this.popupShow_poster=!1},saveImage:function(){uni.showLoading();var t=this.poster_img,a=new plus.nativeObj.Bitmap("base64");a.loadBase64Data(t,(function(){uni.hideLoading();var t="_doc/"+(new Date).getTime()+".png";a.save(t,{overwrite:!0},(function(i){uni.saveImageToPhotosAlbum({filePath:t,success:function(){uni.showToast({title:"图片保存成功",icon:"none"}),a.clear()}})}),(function(t){uni.showToast({title:"图片保存失败1",icon:"none"}),a.clear()}))}),(function(t){console.log(t),uni.showToast({title:"图片保存失败2",icon:"none"}),a.clear()}))}},(0,o.default)(n,"saveImage",(function(){var t=this,a=uni.arrayBufferToBase64(t.poster_img_origin),i=uni.getFileSystemManager(),e=Math.random(),n=wx.env.USER_DATA_PATH+"/pic"+e+".png";i.writeFile({filePath:n,data:a,encoding:"base64",success:function(a){uni.saveImageToPhotosAlbum({filePath:n,success:function(a){uni.showToast({title:"保存成功",mask:!0}),t.popupShow_poster=!1},fail:function(t){uni.showToast({title:"保存失败",icon:"error",mask:!0})}})},fail:function(t){console.error(t)}})})),(0,o.default)(n,"switchTab",(function(t){uni.switchTab({url:t})})),(0,o.default)(n,"jumpPage",(function(t){uni.navigateTo({url:t})})),n)};a.default=l},b671:function(t,a,i){"use strict";i.r(a);var e=i("e8a6"),n=i("472d");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(a,t,(function(){return n[t]}))}(o);i("bdbc");var s=i("828b"),c=Object(s["a"])(n["default"],e["b"],e["c"],!1,null,"1c656753",null,!1,e["a"],void 0);a["default"]=c.exports},bdbc:function(t,a,i){"use strict";var e=i("190d"),n=i.n(e);n.a},e8a6:function(t,a,i){"use strict";i.d(a,"b",(function(){return n})),i.d(a,"c",(function(){return o})),i.d(a,"a",(function(){return e}));var e={uPopup:i("9ff3").default},n=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",{staticClass:"page"},[i("CustomTop",{attrs:{top_title:"团队"}}),i("v-uni-view",{staticClass:"abox1"},[i("v-uni-view",{staticClass:"vm1"},[t._v("邀请有礼")]),i("v-uni-view",{staticClass:"vm2"},[t._v("邀请用户 获取收益")]),i("v-uni-view",{staticClass:"vm2"},[t._v("多邀多得 上不封顶")]),i("v-uni-view",{staticClass:"vm3"},[t._v("下级用户消费100元，您将收益"+t._s(100*t.config.team.rate)+"元")])],1),!t.loading&&t.logined?i("v-uni-view",[i("v-uni-view",{staticClass:"abox2"},[i("v-uni-view",{staticClass:"bd"},[i("v-uni-view",{staticClass:"msg"},[t._v("生成海报图邀请")]),i("v-uni-view",{staticClass:"msg"},[t._v("丰厚的邀请奖励等您来领，赶快行动吧")]),i("v-uni-view",{staticClass:"btn",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.createPosterImage.apply(void 0,arguments)}}},[t._v("立即邀请")])],1)],1),i("v-uni-view",{staticClass:"abox3"},[i("v-uni-view",{staticClass:"bd"},[i("v-uni-view",{staticClass:"stitle"},[t._v("邀请记录")]),i("v-uni-view",{staticClass:"infobox"},[i("v-uni-view",{},[t._v("被邀请人在平台消费您将获得对应奖励")]),i("v-uni-view",[t._v("已成功邀请 "+t._s(t.data_list.length)+" 人，已获得 "+t._s(t.allInviteprice)+" 元收益")])],1),i("v-uni-view",{staticClass:"luck-table"},[i("v-uni-view",{staticClass:"luck-table-tr"},[i("v-uni-view",{staticClass:"luck-table-th"},[t._v("被邀请人")]),i("v-uni-view",{staticClass:"luck-table-th"},[t._v("时间")])],1),t._l(t.data_list,(function(a,e){return!t.data_list_loading&&t.data_list.length>0?i("v-uni-view",{key:e,staticClass:"luck-table-tr"},[i("v-uni-view",{staticClass:"luck-table-td"},[t._v(t._s(a.nickname))]),i("v-uni-view",{staticClass:"luck-table-td"},[t._v(t._s(a.created_at))])],1):t._e()})),t.data_list_loading||0!=t.data_list.length?t._e():i("v-uni-view",{staticClass:"luck-table-tr",style:{marginTop:"40rpx"}},[i("v-uni-view",{staticClass:"luck-table-td text-center"},[t._v("暂无邀请用户~")])],1)],2)],1)],1)],1):t._e(),t.loading||t.logined?t._e():i("v-uni-view",[i("v-uni-view",{staticClass:"loginbox"},[i("v-uni-view",{staticClass:"btn",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.jumpPage("/pages/account/login_password")}}},[t._v("立即登录")])],1)],1),i("v-uni-view",{staticClass:"page_blank",style:{height:"140rpx"}}),i("u-popup",{attrs:{round:"3",mode:"center",show:t.popupShow_poster,"custom-style":"background-color: transparent;"},on:{close:function(a){arguments[0]=a=t.$handleEvent(a),t.onPopupClose_poster.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"invite_img",style:{backgroundColor:"#ffffff"}},[i("v-uni-image",{staticClass:"img",attrs:{src:t.poster_img,mode:"widthFix"}}),i("v-uni-view",{staticClass:"des"},[t._v("长按保存图片")])],1)],1)],1)},o=[]}}]);