(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-account-vip"],{"056a":function(t,i,e){"use strict";e.r(i);var n=e("8282"),a=e("13ba");for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);e("1a74");var s=e("828b"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"c00d4ba0",null,!1,n["a"],void 0);i["default"]=c.exports},"0831":function(t,i,e){"use strict";var n=e("f5bd").default;e("bf0f");var a=n(e("a55b")),o=a.default.api_url;function s(t,i,e,n){var s={"content-type":"application/x-www-form-urlencoded"},c=void 0!=n.responseType?n.responseType:"txt";t=o+t,e=e||{};e["user_token"]=uni.getStorageSync("user_token"),e["request_client"]=a.default.app_client;var r=new Promise((function(n,a){uni.request({url:t,method:i,data:e,header:s,responseType:c,success:function(t){return 401==t.data.code?(uni.showToast({title:"登录已失效，请重新登录",icon:"none"}),!1):500==t.data.code?(uni.showToast({title:"服务异常",icon:"none"}),!1):void n(t.data)},fail:function(t){return uni.showToast({title:"网络错误",icon:"none"}),!1}})}));return r}["options","get","post","put","head","delete","trace","connect"].forEach((function(t){s[t]=function(i,e,n){return s(i,t,e,n||{})}})),t.exports={request:s,upload:function(t,i){var e=o+"/upload";i=i||{},i["user_token"]=uni.getStorageSync("user_token");var n=new Promise((function(n,a){uni.uploadFile({url:e,filePath:t,name:"file",formData:i,success:function(t){t=JSON.parse(t.data);return 401==t.code?(uni.showToast({title:"登录已失效，请重新登录",icon:"none"}),!1):500==t.code?(uni.showToast({title:"服务异常",icon:"none"}),!1):void n(t)},fail:function(t){return uni.showToast({title:"网络错误",icon:"none"}),!1}})}));return n}}},"13ba":function(t,i,e){"use strict";e.r(i);var n=e("794c"),a=e.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);i["default"]=a.a},"14e1":function(t,i,e){"use strict";e.r(i);var n=e("4132"),a=e("6789");for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);var s=e("828b"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"1df43acd",null,!1,n["a"],void 0);i["default"]=c.exports},"1a74":function(t,i,e){"use strict";var n=e("ced6"),a=e.n(n);a.a},"238a":function(t,i,e){var n=e("c86c");i=n(!1),i.push([t.i,"uni-page-body[data-v-c00d4ba0]{background-color:#fff}body.?%PAGE?%[data-v-c00d4ba0]{background-color:#fff}.vipcard[data-v-c00d4ba0]{background:linear-gradient(to bottom right,#dacbaa,#d8b66c);color:#4e3a10;width:%?700?%;margin:0 auto;margin-top:%?30?%;border-radius:5px;position:relative;overflow:hidden;font-size:14px;box-shadow:0 5px 10px rgba(0,0,0,.15)}.vipcard .bd[data-v-c00d4ba0]{padding:%?50?% %?40?%}.vipcard .stitle[data-v-c00d4ba0]{font-weight:700;font-size:20px;letter-spacing:1px}.vipcard .des[data-v-c00d4ba0]{font-size:12px}.vipcard .status[data-v-c00d4ba0]{position:absolute;right:0;top:0;background-color:#ece0c4;padding:5px 12px;border-top-right-radius:5px;border-bottom-left-radius:5px;font-size:12px}.vip_prices[data-v-c00d4ba0]{width:%?700?%;margin:0 auto;margin-top:%?30?%}.vip_prices .items[data-v-c00d4ba0]{display:flex;justify-content:space-between;flex-wrap:wrap;margin-bottom:%?-30?%}.vip_prices .item[data-v-c00d4ba0]{border:1px solid #eee;width:%?330?%;margin-bottom:%?30?%;text-align:center;border-radius:5px;box-shadow:0 5px 10px rgba(0,0,0,.05);font-size:14px}.vip_prices .itembox[data-v-c00d4ba0]{padding:%?30?%}.vip_prices .item.on[data-v-c00d4ba0]{border:1px solid #d8b66c}.vip_prices .item .date[data-v-c00d4ba0]{padding-bottom:%?30?%;border-bottom:1px solid #eee}.vip_prices .item .bd[data-v-c00d4ba0]{padding-top:%?30?%}.vip_prices .item .bd .span1[data-v-c00d4ba0]{font-size:20px;color:#d8b66c}.vip_prices .item .bd .span2[data-v-c00d4ba0]{font-size:12px;color:#d8b66c}.content[data-v-c00d4ba0]{width:%?700?%;margin:0 auto;margin-top:%?60?%;font-size:14px;border:1px solid #eee;border-radius:5px;box-shadow:0 5px 10px rgba(0,0,0,.05)}.content .bd[data-v-c00d4ba0]{padding:%?30?%}.foot_action_blank[data-v-c00d4ba0]{height:%?160?%}.foot_action[data-v-c00d4ba0]{position:fixed;left:0;bottom:0;width:100%;opacity:.8;background-color:#fff;border-top:1px solid #f5f5f5;padding:%?30?% 0;font-size:14px;font-weight:700}.foot_action .btn[data-v-c00d4ba0]{text-align:center;height:%?80?%;line-height:%?80?%;width:%?700?%;margin:0 auto;background:linear-gradient(120deg,#fb9503,#fd5b0b);box-shadow:0 10px 20px rgba(148,105,39,.2);color:#fff;border:none;border-radius:25px;padding:0}",""]),t.exports=i},4132:function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("v-uni-view",{staticClass:"customtop"},[e("v-uni-view",{staticClass:"item left"},[e("i",{staticClass:"back iconfont icon-xiangzuo2",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goBack.apply(void 0,arguments)}}}),e("i",{staticClass:"home iconfont icon-shouye",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goHome.apply(void 0,arguments)}}})]),e("v-uni-view",{staticClass:"item title"},[t._v(t._s(t.top_title))]),e("v-uni-view",{staticClass:"item right",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.jumpPage(t.right_url)}}},[t._v(t._s(t.right_txt))])],1),e("v-uni-view",{staticClass:"customtop_blank"})],1)},a=[]},6789:function(t,i,e){"use strict";e.r(i);var n=e("baac"),a=e.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);i["default"]=a.a},"794c":function(t,i,e){"use strict";e("6a54");var n=e("f5bd").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("5c47"),e("a1c1");var a=e("0831"),o=n(e("14e1")),s={components:{CustomTop:o.default},data:function(){return{loading:!0,config:{},vip_prices:[],month:"",loginUser:{},article:{}}},onLoad:function(){var t=this;uni.showLoading(),a.request.post("/common/getConfig").then((function(i){t.config=i.data,t.vip_prices=i.data.vip_prices,t.month=i.data.vip_prices[0].month})),this.getLoginUser(),this.getArticle()},methods:{getLoginUser:function(){var t=this;a.request.post("/account/getLoginUser").then((function(i){t.loading=!1,uni.hideLoading(),t.loginUser=i.data}))},payFun:function(){var t=this,i=1==t.loginUser.vip?"确认续费？":"确认开通？";uni.showModal({content:i,success:function(i){if(i.confirm){uni.showLoading();var e={month:t.month};a.request.post("/payment/pay_vip",e).then((function(i){if(uni.hideLoading(),200!=i.code)return uni.showToast({title:i.message,icon:"none"}),!1;uni.showToast({title:i.message,icon:"none"}),t.getLoginUser()}))}}})},setMonth:function(t){this.month=t},getArticle:function(){var t=this;a.request.post("/article/getArticle",{type:"vip"}).then((function(i){var e=i.data.content;e=e.replace(/<img/gi,'<img style="max-width:100%; height:auto; border-radius: 5px;"'),e=e.replace(/<video/gi,'<video style="width:100%; height:auto; text-align: center;"'),i.data.content=e,t.article=i.data}))},jumpPage:function(t){uni.navigateTo({url:t})}}};i.default=s},8282:function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return n}));var n={uParse:e("0cf9").default},a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("CustomTop",{attrs:{top_title:"会员特权"}}),t.loading?t._e():e("v-uni-view",[e("v-uni-view",{staticClass:"vipcard"},[e("v-uni-view",{staticClass:"bd"},[e("v-uni-view",{staticClass:"stitle"},[t._v("VIP会员")]),1!=t.loginUser.vip?e("v-uni-view",{staticClass:"des"},[t._v("开通会员，获取多多特权")]):t._e(),1==t.loginUser.vip?e("v-uni-view",{staticClass:"des"},[t._v("有效期："+t._s(t.loginUser.member_end_date))]):t._e(),e("v-uni-view",{staticClass:"status"},[t._v(t._s(1==t.loginUser.vip?"已开通":"未开通"))])],1)],1),e("v-uni-view",{staticClass:"vip_prices"},[e("v-uni-view",{staticClass:"items"},t._l(t.vip_prices,(function(i,n){return e("v-uni-view",{key:n,staticClass:"item",class:t.month==i.month?"on":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setMonth(i.month)}}},[e("v-uni-view",{staticClass:"itembox"},[e("v-uni-view",{staticClass:"date"},[t._v(t._s(i.date))]),e("v-uni-view",{staticClass:"bd"},[e("span",{staticClass:"span1"},[t._v(t._s(i.gold))]),e("span",{staticClass:"span2"},[t._v("金币")])])],1)],1)})),1)],1),t.article.id?e("v-uni-view",{staticClass:"content"},[e("v-uni-view",{staticClass:"bd"},[e("u-parse",{attrs:{content:t.article.content,selectable:!0},on:{preview:function(i){arguments[0]=i=t.$handleEvent(i),t.preview.apply(void 0,arguments)}}})],1)],1):t._e(),e("v-uni-view",{staticClass:"foot_action_blank"}),e("v-uni-view",{staticClass:"foot_action"},[e("v-uni-view",{staticClass:"btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.payFun.apply(void 0,arguments)}}},[t._v(t._s(1==t.loginUser.vip?"续费会员":"立即开通"))])],1)],1)],1)},o=[]},a55b:function(t,i){t.exports={app_client:"h5",api_url:"/api",app_version:"1.0.1",app_env:"dev"}},baac:function(t,i,e){"use strict";e("6a54"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={name:"CustomTop",data:function(){return{}},props:{top_title:{type:String},right_txt:{type:String},right_url:{type:String}},methods:{goBack:function(){uni.navigateBack()},goHome:function(){uni.switchTab({url:"/pages/index/index"})},switchTab:function(t){uni.switchTab({url:t})},jumpPage:function(t){uni.navigateTo({url:t})}}};i.default=n},ced6:function(t,i,e){var n=e("238a");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("967d").default;a("7371d75e",n,!0,{sourceMap:!1,shadowMode:!1})}}]);