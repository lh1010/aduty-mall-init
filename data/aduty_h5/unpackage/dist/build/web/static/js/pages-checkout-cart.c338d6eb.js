(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-checkout-cart"],{"117c":function(t,e,i){i("f7a5"),i("5ef2"),i("d4b5"),i("5c47"),i("2c10"),t.exports={isEmptyObject:function(t){return"{}"==JSON.stringify(t)},timeToDate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=t?new Date(t):new Date,a=i.getFullYear(),s=i.getMonth()+1,o=i.getDate(),n=i.getHours(),d=i.getMinutes(),c=i.getSeconds();s<10&&(s="0"+s),o<10&&(o="0"+o),n<10&&(n="0"+n),d<10&&(d="0"+d),c<10&&(c="0"+c);var r="";return 1==e&&(r=a+"-"+s+"-"+o),2==e&&(r=a+"-"+s+"-"+o+" "+n+":"+d+":"+c),r},urlToObj:function(t){for(var e={},i=t.slice(t.indexOf("?")+1),a=i.split("&"),s=a.length,o=0;o<s;o++){var n=a[o].split("=");e[n[0]]=n[1]}return e},is_wx:function(){return!1},is_pc:function(){for(var t=navigator.userAgent,e=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],i=!0,a=0;a<e.length;a++)if(t.indexOf(e[a])>0){i=!1;break}return i}}},"6c56":function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,'.checkout .address[data-v-38d697e9]{background-color:#fff;padding:%?30?%}.checkout .address .bd[data-v-38d697e9]{display:flex;align-items:center;justify-content:space-between}.checkout .address .info[data-v-38d697e9]{width:86%}.checkout .address .info .vm1[data-v-38d697e9]{font-weight:700}.checkout .data_list[data-v-38d697e9]{margin-top:%?30?%}.checkout .data_list .items[data-v-38d697e9]{background-color:#fff;padding:%?30?%;margin-bottom:%?30?%}.checkout .data_list .items_top[data-v-38d697e9]{margin-bottom:%?30?%;padding-bottom:%?30?%;border-bottom:1px solid #f5f5f5;display:flex}.checkout .data_list .icon_selected[data-v-38d697e9]{margin-right:8px;font-weight:400;color:#999}.checkout .data_list .icon_selected.on[data-v-38d697e9]:before{content:"\\e731";color:#ff6131}.checkout .data_list .items .item_product[data-v-38d697e9]{display:flex;flex-wrap:nowrap;margin-bottom:%?30?%;padding-bottom:%?30?%;border-bottom:1px solid #f5f5f5}.checkout .data_list .items .item_product[data-v-38d697e9]:last-child{margin-bottom:0;padding-bottom:0;border:none}.checkout .data_list .items .item_product .cover[data-v-38d697e9]{width:%?158?%;height:%?158?%;border-radius:5px;margin-right:10px;border:1px solid #eee}.checkout .data_list .items .item_product .info[data-v-38d697e9]{flex:1}.checkout .data_list .items .item_product .info .name[data-v-38d697e9]{overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-overflow:ellipsis}.checkout .data_list .items .item_product .types[data-v-38d697e9]{font-size:12px;color:#999;display:flex}.checkout .data_list .items .item_product .types_item[data-v-38d697e9]{margin-right:%?10?%}.checkout .data_list .items .item_product .info .price[data-v-38d697e9]{color:red}.checkout .data_list .items .item_product .info .pricebox .number[data-v-38d697e9]{float:right;color:#999;font-size:12px;padding-top:5px}.checkout .fee[data-v-38d697e9]{padding:%?30?%;background-color:#fff;margin-top:%?30?%}.checkout .fee .item[data-v-38d697e9]{display:flex;justify-content:space-between}.checkout .fee .item .vm2[data-v-38d697e9]{color:#ff6131}.foot_action_blank[data-v-38d697e9]{height:%?170?%}.foot_action[data-v-38d697e9]{position:fixed;left:0;bottom:0;width:100%;opacity:.9;background-color:#fff;border-top:1px solid #eee;height:%?90?%;padding:%?40?% 0}.foot_action .left[data-v-38d697e9]{width:50%;float:left;display:flex;line-height:%?90?%;padding-left:%?30?%}.foot_action .left .price[data-v-38d697e9]{color:red}.foot_action .right[data-v-38d697e9]{float:right;padding-right:%?30?%}.foot_action .right .btn[data-v-38d697e9]{text-align:center;width:%?300?%;height:%?90?%;line-height:%?90?%;background-color:#ff6131;color:#fff;border:none;border-radius:%?10?%;padding:0}.popup_setAddress .btop[data-v-38d697e9]{height:49px;line-height:49px;position:relative;text-align:center;padding:0 %?30?%;border-bottom:1px solid #f5f5f5}.popup_setAddress .btop .close[data-v-38d697e9]{float:right;color:#999}.popup_setAddress .items[data-v-38d697e9]{overflow:hidden;overflow-y:scroll;height:calc(60vh - 65px)}.popup_setAddress .items .item[data-v-38d697e9]{background-color:#fff;padding:%?30?%;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #f5f5f5}.popup_setAddress .items .item[data-v-38d697e9]:last-child{border-bottom:none}.popup_setAddress .items .item .info[data-v-38d697e9]{width:86%}.popup_setAddress .items .item .info .vm1[data-v-38d697e9]{font-weight:700}.popup_setAddress .items .item .iconfont[data-v-38d697e9]{color:red}.page[data-v-38d697e9]{padding-bottom:%?30?%}',""]),t.exports=e},"6d4e":function(t,e,i){var a=i("6c56");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("967d").default;s("35e8b23c",a,!0,{sourceMap:!1,shadowMode:!1})},"6d65":function(t,e,i){"use strict";i.r(e);var a=i("a6f0"),s=i("cc2c");for(var o in s)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(o);i("7dfc");var n=i("828b"),d=Object(n["a"])(s["default"],a["b"],a["c"],!1,null,"38d697e9",null,!1,a["a"],void 0);e["default"]=d.exports},"7dfc":function(t,e,i){"use strict";var a=i("6d4e"),s=i.n(a);s.a},a6f0:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={uPopup:i("9ff3").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page"},[i("CustomTop",{attrs:{top_title:"确认订单"}}),t.loading?t._e():i("v-uni-view",{staticClass:"checkout"},[i("v-uni-view",{staticClass:"address"},[t.checkoutData.address?i("v-uni-view",{staticClass:"bd",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onPopupShow_setAddress.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"info"},[i("v-uni-view",{staticClass:"vm1"},[t._v(" "+t._s(t.checkoutData.address.province_name)+" "+t._s(t.checkoutData.address.city_name)+" "+t._s(t.checkoutData.address.district_name)+" "+t._s(t.checkoutData.address.detailed_address)+" ")]),i("v-uni-view",{staticClass:"vm2"},[t._v(" "+t._s(t.checkoutData.address.name)+" "+t._s(t.checkoutData.address.phone)+" ")])],1),i("i",{staticClass:"iconfont icon-youbian more"})],1):t._e(),t.checkoutData.address?t._e():i("v-uni-view",{staticClass:"bd",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jumpPage("/pages/address/list")}}},[i("v-uni-view",{staticClass:"info"},[t._v("设置收货地址")]),i("i",{staticClass:"iconfont icon-youbian more"})],1)],1),t.checkoutData.products.length>0?i("v-uni-view",{staticClass:"data_list"},[i("v-uni-view",{staticClass:"items"},t._l(t.checkoutData.products,(function(e,a){return i("v-uni-view",{key:a,staticClass:"item_product"},[i("v-uni-image",{staticClass:"cover",attrs:{src:e.cover,mode:"scaleToFill"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.jumpPage("/pages/product/show?id="+e.id+"&sku="+e.sku)}}}),i("v-uni-view",{staticClass:"info",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.jumpPage("/pages/product/show?id="+e.id+"&sku="+e.sku)}}},[i("v-uni-view",{staticClass:"name"},[i("span",{staticClass:"txt"},[t._v(t._s(e.name))])]),e.specifications.length>0?i("v-uni-view",{staticClass:"types"},t._l(e.specifications,(function(e,a){return i("v-uni-view",{key:a,staticClass:"types_item"},[t._v(" "+t._s(e.specification_name)+"-"+t._s(e.specification_option)+" ")])})),1):t._e(),i("v-uni-view",{staticClass:"pricebox"},[i("span",{staticClass:"price"},[t._v("¥"+t._s(e.price))]),i("span",{staticClass:"number"},[t._v("x"+t._s(e.count))])])],1)],1)})),1)],1):t._e(),i("v-uni-view",{staticClass:"fee"},[i("v-uni-view",{staticClass:"items"},[i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"vm1"},[t._v("商品总额")]),i("v-uni-view",{staticClass:"vm2"},[t._v("¥"+t._s(t.checkoutData.totalData.product_total_price))])],1)],1)],1),i("v-uni-view",{staticClass:"foot_action_blank"}),i("v-uni-view",{staticClass:"foot_action"},[i("v-uni-view",{staticClass:"left"},[t._v(" 合计："),i("span",{staticClass:"price"},[t._v("¥"+t._s(t.checkoutData.totalData.total_price))])]),i("v-uni-view",{staticClass:"right"},[i("v-uni-view",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.createOrder.apply(void 0,arguments)}}},[t._v("提交订单")])],1)],1)],1),i("u-popup",{attrs:{show:t.popupShow_setAddress,mode:"bottom"},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.onPopupClose_setAddress.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"popup_setAddress"},[i("v-uni-view",{staticClass:"btop"},[i("span",{staticClass:"stitle"},[t._v("选择地址")]),i("i",{staticClass:"iconfont iconguanbicopy close",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onPopupClose_set_address.apply(void 0,arguments)}}})]),i("v-uni-view",{staticClass:"items"},t._l(t.addresses,(function(e,a){return i("v-uni-view",{key:a,staticClass:"item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.setAddress(e.id)}}},[i("v-uni-view",{staticClass:"info"},[i("v-uni-view",{staticClass:"vm1"},[t._v(" "+t._s(e.province_name)+" "+t._s(e.city_name)+" "+t._s(e.district_name)+" "+t._s(e.detailed_address)+" ")]),i("v-uni-view",{staticClass:"vm2"},[t._v(" "+t._s(e.name)+" "+t._s(e.phone)+" ")])],1),t.checkoutData.address.id==e.id?i("i",{staticClass:"iconfont icon-yuanxingxuanzhong"}):t._e()],1)})),1)],1)],1)],1)},o=[]},a737:function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i("0831"),o=(a(i("117c")),a(i("14e1"))),n={components:{CustomTop:o.default},data:function(){return{loading:!0,params:{type:"cart"},checkoutData:[],addresses:[],popupShow_setAddress:!1}},onLoad:function(t){},onShow:function(){this.getCheckoutData(),this.getAddresses()},methods:{createOrder:function(){uni.showLoading();var t=this.params;s.request.post("/order/createOrder",t).then((function(t){if(uni.hideLoading(),200==t.code)uni.navigateTo({url:"/pages/checkout/pay?order_ids="+t.data.order_ids});else if(400==t.code)return uni.showToast({title:t.message,icon:"none"}),!1}))},getCheckoutData:function(){var t=this;uni.showLoading();var e=this.params;s.request.post("/order/getCheckoutData",e).then((function(e){if(uni.hideLoading(),200==e.code)t.loading=!1,t.checkoutData=e.data;else if(400==e.code)return uni.showModal({content:e.message,showCancel:!1,success:function(t){t.confirm&&uni.navigateBack()}}),!1}))},getAddresses:function(){var t=this,e=this.params;s.request.post("/address/getAddresses",e).then((function(e){t.addresses=e.data}))},onPopupShow_setAddress:function(){this.popupShow_setAddress=!0},onPopupClose_setAddress:function(){this.popupShow_setAddress=!1},setAddress:function(t){this.params.address_id=t,this.onPopupClose_setAddress(),this.getCheckoutData()},switchTab:function(t){uni.switchTab({url:t})},jumpPage:function(t){uni.navigateTo({url:t})}}};e.default=n},cc2c:function(t,e,i){"use strict";i.r(e);var a=i("a737"),s=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=s.a}}]);