(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-list"],{"14e1b":function(t,a,i){"use strict";i.r(a);var s=i("a2fb"),o=i("ebba");for(var e in o)["default"].indexOf(e)<0&&function(t){i.d(a,t,(function(){return o[t]}))}(e);i("6a0f");var n=i("828b"),d=Object(n["a"])(o["default"],s["b"],s["c"],!1,null,"38f321d4",null,!1,s["a"],void 0);a["default"]=d.exports},"6a0f":function(t,a,i){"use strict";var s=i("e44e"),o=i.n(s);o.a},"838f":function(t,a,i){var s=i("c86c");a=s(!1),a.push([t.i,".order_list[data-v-38f321d4]{margin-top:%?30?%}.order_list .item[data-v-38f321d4]{background-color:#fff;border-radius:5px;padding:%?30?%;margin-bottom:%?30?%}.order_list .item .shopbox[data-v-38f321d4]{padding-bottom:%?30?%;margin-bottom:%?30?%;border-bottom:1px solid #f5f5f5;font-weight:600}.order_list .item .shopbox .luck-text-default[data-v-38f321d4]{font-weight:400;margin-left:3px}.order_list .item .top[data-v-38f321d4]{border-bottom:1px solid #f5f5f5;padding-bottom:%?30?%;overflow:hidden}.order_list .item .top .number[data-v-38f321d4]{float:left}.order_list .item .top .bright[data-v-38f321d4]{float:right;color:#999}.order_list .snaps[data-v-38f321d4]{padding-top:%?30?%;padding-bottom:%?30?%;border-bottom:1px solid #f5f5f5}.order_list .snaps_item[data-v-38f321d4]{display:flex;margin-bottom:%?30?%}.order_list .snaps_item[data-v-38f321d4]:last-child{margin-bottom:0}.order_list .snaps_item .info[data-v-38f321d4]{flex:1}.order_list .snaps_item .cover[data-v-38f321d4]{width:%?160?%;height:%?160?%;border-radius:5px;margin-right:10px}.order_list .snaps_item .name[data-v-38f321d4]{overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-overflow:ellipsis}.order_list .snaps_item .spes[data-v-38f321d4]{font-size:12px;color:#999;display:flex}.order_list .snaps_item .spes_item[data-v-38f321d4]{margin-right:%?10?%}.order_list .snaps_item .price[data-v-38f321d4]{color:red}.order_list .snaps_item .pricebox .number[data-v-38f321d4]{float:right;color:#999;font-size:12px;padding-top:5px}.order_list .item .types[data-v-38f321d4]{padding-top:%?30?%}.order_list .item .types .span1[data-v-38f321d4]{margin-right:3px}.order_list .item .item_foot[data-v-38f321d4]{border-top:1px solid #f5f5f5;padding-top:%?30?%;margin-top:%?30?%}.order_list .item .item_foot .btns[data-v-38f321d4]{text-align:right}.order_list .item .item_foot .btns .btn[data-v-38f321d4]{font-size:12px;margin-right:5px;border-radius:20px;text-align:center;padding:5px 10px;color:#999;border:1px solid #999}.order_list .item .item_foot .btns .luck-btn[data-v-38f321d4]:last-child{margin-right:0}.order_list .item .item_foot .btns .btn.btn_pay[data-v-38f321d4]{color:#d8b66c;border:1px solid #d8b66c}.sv_nav_blank[data-v-38f321d4]{height:48px}.sv_nav[data-v-38f321d4]{width:%?750?%;background:#fff;height:48px;line-height:48px;margin:auto;z-index:99;position:fixed;left:0;border-bottom:1px solid #f5f5f5}.sv_nav .scroll-view[data-v-38f321d4]{width:%?700?%;margin:0 auto}.sv_nav .box[data-v-38f321d4]{display:flex;align-items:center}.sv_nav .box .item[data-v-38f321d4]{width:80px;text-align:center}.sv_nav .box .item.on[data-v-38f321d4]{color:red;font-weight:600}.order_show .pagebox[data-v-38f321d4]{padding:%?30?%;background-color:#fff;border-radius:8px;margin-top:%?30?%}.order_show .pagebox .btop[data-v-38f321d4]{border-bottom:1px solid #f5f5f5;padding-bottom:%?30?%;margin-bottom:%?30?%}.order_show .ptop[data-v-38f321d4]{background-color:#fe482b;padding:50px 0;color:#fff}.order_show .ptop .status[data-v-38f321d4]{font-size:18px;font-weight:600;text-align:center}.order_show .address[data-v-38f321d4]{margin-top:%?-30?%}.order_show .address .bd[data-v-38f321d4]{display:flex;align-items:center}.order_show .address .iconfont[data-v-38f321d4]{width:28px;font-size:18px;color:#999}.order_show .address .info .vm1[data-v-38f321d4]{font-weight:600}.order_show .snaps[data-v-38f321d4]{margin-top:%?30?%}.order_show .snaps_item[data-v-38f321d4]{display:flex;margin-bottom:%?30?%}.order_show .snaps_item[data-v-38f321d4]:last-child{margin-bottom:0}.order_show .snaps_item .info[data-v-38f321d4]{flex:1}.order_show .snaps_item .cover[data-v-38f321d4]{width:%?160?%;height:%?160?%;border-radius:5px;margin-right:10px}.order_show .snaps_item .name[data-v-38f321d4]{overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-overflow:ellipsis}.order_show .snaps_item .spes[data-v-38f321d4]{font-size:12px;color:#999;display:flex}.order_show .snaps_item .spes_item[data-v-38f321d4]{margin-right:%?10?%}.order_show .snaps_item .price[data-v-38f321d4]{color:red}.order_show .snaps_item .pricebox .number[data-v-38f321d4]{float:right;color:#999;font-size:12px;padding-top:5px}.foot_action_blank[data-v-38f321d4]{height:80px}.foot_action[data-v-38f321d4]{position:fixed;left:0;bottom:0;width:100%;opacity:.9;background-color:#fff;border-top:1px solid #eee;padding:20px 0}.foot_action .btns[data-v-38f321d4]{display:flex;justify-content:flex-end;width:%?700?%;margin:0 auto}.foot_action .btns .btn[data-v-38f321d4]{margin-right:5px;border-radius:20px;text-align:center;padding:5px 20px;color:#666;border:1px solid #666;font-size:14px}.foot_action .btns .btn[data-v-38f321d4]:last-child{margin-right:0}.foot_action .btns .btn.btn_pay[data-v-38f321d4]{color:#d8b66c;border:1px solid #d8b66c}.contact_popup[data-v-38f321d4]{width:%?700?%;background-color:#fff;border-radius:3px}.contact_popup .box[data-v-38f321d4]{padding:%?40?%}.contact_popup .stitle[data-v-38f321d4]{font-weight:600;margin-bottom:%?30?%}.contact_popup .item[data-v-38f321d4]{margin-bottom:8px}.contact_popup .item[data-v-38f321d4]:last-child{margin-bottom:0}.contact_popup .item .span1[data-v-38f321d4]{width:40px}.contact_popup .item .span3[data-v-38f321d4]{margin-left:10px;background-color:#0d6efd;padding:2px 5px;color:#fff;border-radius:3px;font-size:12px}uni-page-body[data-v-38f321d4]{padding-bottom:%?30?%}",""]),t.exports=a},a2fb:function(t,a,i){"use strict";i.d(a,"b",(function(){return o})),i.d(a,"c",(function(){return e})),i.d(a,"a",(function(){return s}));var s={uLoadmore:i("3f84").default,uEmpty:i("a90a").default,uPopup:i("9ff3").default},o=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",[i("CustomTop",{attrs:{top_title:"买入订单"}}),i("v-uni-view",{staticClass:"sv_nav"},[i("v-uni-scroll-view",{staticClass:"scroll-view",attrs:{"scroll-x":"true","scroll-left":t.sv_left,"scroll-with-animation":!0}},[i("v-uni-view",{staticClass:"box",style:{width:t.sv_totalWidth+"px"}},[i("v-uni-view",{staticClass:"item svItem",class:""==t.params.status?"on":"",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.svChange(1,"")}}},[t._v("全部订单")]),t._l(t.config.mall.order_status,(function(a,s,o){return i("v-uni-view",{key:o,staticClass:"item svItem",class:t.params.status==s?"on":"",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.svChange(o+1,s)}}},[t._v(" "+t._s(a)+" ")])}))],2)],1)],1),i("v-uni-view",{staticClass:"sv_nav_blank"}),t.data_list_loading?t._e():i("v-uni-view",{staticClass:"order_list"},[i("v-uni-view",{},[t.data_list.length>0?i("v-uni-view",[i("v-uni-view",{staticClass:"items"},t._l(t.data_list,(function(a,s){return i("v-uni-view",{key:s,staticClass:"item"},[i("v-uni-view",{staticClass:"top",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.jumpPage("/pages/order/show?id="+a.id)}}},[i("v-uni-view",{staticClass:"number"},[t._v("订单编号："+t._s(a.number))]),i("v-uni-view",{staticClass:"bright"},[i("span",{staticClass:"status"},[t._v(t._s(a.status_str))])])],1),i("v-uni-view",{staticClass:"snaps"},t._l(a.snaps,(function(s,o){return i("v-uni-view",{key:o,staticClass:"snaps_item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.jumpPage("/pages/order/show?id="+a.id)}}},[i("v-uni-image",{staticClass:"cover",attrs:{src:s.cover,mode:"aspectFit"}}),i("v-uni-view",{staticClass:"info"},[i("v-uni-view",{staticClass:"name"},[t._v(t._s(s.name))]),s.specifications.length>0?i("v-uni-view",{staticClass:"spes"},t._l(s.specifications,(function(a,s){return i("v-uni-view",{key:s,staticClass:"spes_item"},[t._v(" "+t._s(a.specification_name)+"-"+t._s(a.specification_option)+" ")])})),1):t._e(),i("v-uni-view",{staticClass:"pricebox"},[i("span",{staticClass:"price"},[t._v("¥"+t._s(s.price))]),i("span",{staticClass:"number"},[t._v("x"+t._s(s.count))])])],1)],1)})),1),i("v-uni-view",{staticClass:"types"},[i("v-uni-view",{staticClass:"types_item"},[i("span",{staticClass:"span1"},[t._v("合计金额：")]),i("span",{staticClass:"span2 aduty-text-price"},[t._v("¥"+t._s(a.total_price))])])],1),[0,20].includes(a.status)?i("v-uni-view",{staticClass:"item_foot"},[i("v-uni-view",{staticClass:"btns"},["20"==a.status?i("span",{staticClass:"btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.receiveOrder(a.id)}}},[t._v("确认收货")]):t._e(),0==a.status?i("span",{staticClass:"btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.cancelOrder(a.id)}}},[t._v("取消订单")]):t._e(),0==a.status?i("span",{staticClass:"btn btn_pay",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.jumpPage("/pages/checkout/pay?order_ids="+a.id)}}},[t._v("去支付")]):t._e()])],1):t._e()],1)})),1),i("v-uni-view",{staticClass:"uloadmore"},[i("u-loadmore",{attrs:{status:t.loadmore_status}})],1)],1):t._e(),0==t.data_list.length?i("u-empty",{attrs:{mode:"data",icon:"/static/images/empty.png",text:"暂无内容~"}}):t._e()],1)],1),i("u-popup",{attrs:{mode:"center",round:"3",show:t.contact_popup_show,customStyle:"background-color: transparent;"},on:{close:function(a){arguments[0]=a=t.$handleEvent(a),t.onClose_contact_popup.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"contact_popup"},[i("v-uni-view",{staticClass:"box"},[i("v-uni-view",{staticClass:"stitle"},[t._v("店铺联系方式")]),i("v-uni-view",{staticClass:"items"},[i("v-uni-view",{staticClass:"item"},[i("span",{staticClass:"span1"},[t._v("微信：")]),i("span",{staticClass:"span2"},[t._v(t._s(t.contact.weixin?t.contact.weixin:"未填写"))]),t.contact.weixin?i("span",{staticClass:"span3",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.copy(t.contact.weixin)}}},[t._v("复制")]):t._e()]),i("v-uni-view",{staticClass:"item"},[i("span",{staticClass:"span1"},[t._v("手机：")]),i("span",{staticClass:"span2"},[t._v(t._s(t.contact.phone?t.contact.phone:"未填写"))]),t.contact.phone?i("span",{staticClass:"span3",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.copy(t.contact.phone)}}},[t._v("复制")]):t._e()]),i("v-uni-view",{staticClass:"item"},[i("span",{staticClass:"span1"},[t._v("Q Q：")]),i("span",{staticClass:"span2"},[t._v(t._s(t.contact.qq?t.contact.qq:"未填写"))]),t.contact.qq?i("span",{staticClass:"span3",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.copy(t.contact.qq)}}},[t._v("复制")]):t._e()]),i("v-uni-view",{staticClass:"item"},[i("span",{staticClass:"span1"},[t._v("电话：")]),i("span",{staticClass:"span2"},[t._v(t._s(t.contact.telphone?t.contact.telphone:"未填写"))]),t.contact.telphone?i("span",{staticClass:"span3",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.copy(t.contact.telphone)}}},[t._v("复制")]):t._e()])],1)],1)],1)],1)],1)},e=[]},acb3:function(t,a,i){"use strict";i("6a54");var s=i("f5bd").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,i("c223"),i("e966"),i("5c47");var o=i("0831"),e=s(i("14e1")),n={components:{CustomTop:e.default},data:function(){return{data_list:[],data_list_loading:!0,loadmore_status:"loadmore",loadmore_finished:!1,params:{page_size:15,page:1,status:""},config:{mall:{}},sv_totalWidth:1e3,sv_navLength:0,sv_itemWidth:0,sv_left:0,sv_current:0,contact_popup_show:!1,contact:{}}},onLoad:function(t){var a=this;void 0!=t.status&&(this.params.status=t.status),o.request.post("/common/getConfig").then((function(t){a.config=t.data;var i=1;for(var s in t.data.mall.order_status)i+=1;a.sv_navLength=i})).then((function(){a.initSv()})).then((function(){if(void 0!=t.status){var i=0;for(var s in a.config.mall.order_status)s==t.status&&a.setSv(i),i++}})),uni.showLoading(),this.getInit()},onReachBottom:function(){this.getMore()},onPullDownRefresh:function(){this.getInit()},methods:{getList:function(){var t=this,a=this.params;o.request.post("/order/getList",a).then((function(a){return uni.stopPullDownRefresh(),uni.hideLoading(),t.data_list_loading=!1,0==a.data.total?(t.data_list=[],!1):(1==a.data.current_page?t.data_list=a.data.data:t.data_list=t.data_list.concat(a.data.data),t.params.page==a.data.last_page?(t.loadmore_finished=!0,t.loadmore_status="nomore",!1):(t.params.page=parseInt(a.data.current_page)+parseInt(1),t.loadmore_status="loadmore",void(t.loadmore_finished=!1)))}))},getInit:function(){uni.showLoading(),this.data_list=[],this.data_list_loading=!0,this.loadmore_status="loadmore",this.loadmore_finished=!1,this.params.page=1,this.getList()},getMore:function(){this.loadmore_finished||(this.loadmore_status="loading",this.getList())},initSv:function(){var t=this;this.$nextTick((function(){var a=uni.createSelectorQuery().select(".svItem");a.boundingClientRect((function(a){var i=t.sv_navLength;t.sv_itemWidth=a.width,t.sv_totalWidth=i*t.sv_itemWidth})).exec()})),this.$forceUpdate()},setSv:function(t){this.sv_current=t,this.sv_left=this.sv_itemWidth*(t-1)},svChange:function(t,a){this.sv_current=t,this.sv_left=this.sv_itemWidth*(t-1),this.params.status=a,this.getInit(),this.$forceUpdate()},cancelOrder:function(t){var a=this;uni.showModal({content:"确定取消？",success:function(i){i.confirm&&(uni.showLoading(),o.request.post("/order/cancelOrder",{order_id:t}).then((function(i){if(uni.hideLoading(),200==i.code){uni.showToast({icon:"none",title:"操作成功"});for(var s=a.data_list,o=0;o<s.length;o++)s[o].id==t&&(s[o].status=-10,s[o].status_str="已取消");a.data_list=s,uni.showToast({icon:"none",title:"取消成功"})}else 400==i.code&&uni.showToast({title:i.message,icon:"none"})})))}})},receiveOrder:function(t){var a=this;uni.showModal({content:"确定操作？",success:function(i){i.confirm&&(uni.showLoading(),o.request.post("/order/receiveOrder",{order_id:t}).then((function(i){if(uni.hideLoading(),200==i.code){uni.showToast({icon:"none",title:"操作成功"});for(var s=a.data_list,o=0;o<s.length;o++)s[o].id==t&&(s[o].status=30,s[o].status_str="已完成");a.data_list=s}else 400==i.code&&uni.showToast({title:i.message,icon:"none"})})))}})},getContact:function(t){var a=this;uni.showLoading(),o.request.post("/shop/getContact",{shop_id:t}).then((function(t){uni.hideLoading(),a.contact=t.data,a.contact_popup_show=!0}))},onClose_contact_popup:function(){this.contact_popup_show=!1},copy:function(t){uni.setClipboardData({data:t})},switchTab:function(t){uni.switchTab({url:t})},jumpPage:function(t){uni.navigateTo({url:t})}}};a.default=n},e44e:function(t,a,i){var s=i("838f");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=i("967d").default;o("bece06d4",s,!0,{sourceMap:!1,shadowMode:!1})},ebba:function(t,a,i){"use strict";i.r(a);var s=i("acb3"),o=i.n(s);for(var e in s)["default"].indexOf(e)<0&&function(t){i.d(a,t,(function(){return s[t]}))}(e);a["default"]=o.a}}]);