(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-account-user_password"],{"0831":function(t,i,n){"use strict";var a=n("f5bd").default;n("bf0f");var e=a(n("a55b")),s=e.default.api_url;function o(t,i,n,a){var o={"content-type":"application/x-www-form-urlencoded"},u=void 0!=a.responseType?a.responseType:"txt";t=s+t,n=n||{};n["user_token"]=uni.getStorageSync("user_token"),n["request_client"]=e.default.app_client;var c=new Promise((function(a,e){uni.request({url:t,method:i,data:n,header:o,responseType:u,success:function(t){return 401==t.data.code?(uni.showToast({title:"登录已失效，请重新登录",icon:"none"}),!1):500==t.data.code?(uni.showToast({title:"服务异常",icon:"none"}),!1):void a(t.data)},fail:function(t){return uni.showToast({title:"网络错误",icon:"none"}),!1}})}));return c}["options","get","post","put","head","delete","trace","connect"].forEach((function(t){o[t]=function(i,n,a){return o(i,t,n,a||{})}})),t.exports={request:o,upload:function(t,i){var n=s+"/upload";i=i||{},i["user_token"]=uni.getStorageSync("user_token");var a=new Promise((function(a,e){uni.uploadFile({url:n,filePath:t,name:"file",formData:i,success:function(t){t=JSON.parse(t.data);return 401==t.code?(uni.showToast({title:"登录已失效，请重新登录",icon:"none"}),!1):500==t.code?(uni.showToast({title:"服务异常",icon:"none"}),!1):void a(t)},fail:function(t){return uni.showToast({title:"网络错误",icon:"none"}),!1}})}));return a}}},"14e1":function(t,i,n){"use strict";n.r(i);var a=n("4132"),e=n("6789");for(var s in e)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return e[t]}))}(s);var o=n("828b"),u=Object(o["a"])(e["default"],a["b"],a["c"],!1,null,"1df43acd",null,!1,a["a"],void 0);i["default"]=u.exports},"35cc":function(t,i,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=n("0831"),s=a(n("14e1")),o={components:{CustomTop:s.default},onShow:function(){uni.showLoading(),this.getLoginUser()},data:function(){return{loading:!0,user:{}}},methods:{getLoginUser:function(){var t=this;e.request.post("/account/getLoginUser").then((function(i){t.loading=!1,uni.hideLoading(),t.user=i.data}))},formSubmit:function(t){var i=this;uni.showLoading();var n=t.detail.value;e.request.post("/account/updateUserPassword",n).then((function(t){uni.hideLoading(),200==t.code?(i.getLoginUser(),uni.showToast({title:"保存成功",icon:"none"})):400==t.code&&uni.showToast({icon:"none",title:t.message})}))}}};i.default=o},"3e28":function(t,i,n){"use strict";n.r(i);var a=n("35cc"),e=n.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return a[t]}))}(s);i["default"]=e.a},4132:function(t,i,n){"use strict";n.d(i,"b",(function(){return a})),n.d(i,"c",(function(){return e})),n.d(i,"a",(function(){}));var a=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("v-uni-view",[n("v-uni-view",{staticClass:"customtop"},[n("v-uni-view",{staticClass:"item left"},[n("i",{staticClass:"back iconfont icon-xiangzuo2",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goBack.apply(void 0,arguments)}}}),n("i",{staticClass:"home iconfont icon-shouye",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goHome.apply(void 0,arguments)}}})]),n("v-uni-view",{staticClass:"item title"},[t._v(t._s(t.top_title))]),n("v-uni-view",{staticClass:"item right",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.jumpPage(t.right_url)}}},[t._v(t._s(t.right_txt))])],1),n("v-uni-view",{staticClass:"customtop_blank"})],1)},e=[]},6789:function(t,i,n){"use strict";n.r(i);var a=n("baac"),e=n.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return a[t]}))}(s);i["default"]=e.a},"881c":function(t,i,n){"use strict";n.r(i);var a=n("d8b1"),e=n("3e28");for(var s in e)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return e[t]}))}(s);n("d62e");var o=n("828b"),u=Object(o["a"])(e["default"],a["b"],a["c"],!1,null,"2cd1716e",null,!1,a["a"],void 0);i["default"]=u.exports},a55b:function(t,i){t.exports={app_client:"h5",api_url:"/api",app_version:"1.0.1",app_env:"dev"}},a643:function(t,i,n){var a=n("c86c");i=a(!1),i.push([t.i,"uni-page-body[data-v-2cd1716e]{padding-bottom:%?60?%}.aduty-form-box[data-v-2cd1716e]{margin-top:%?30?%}.aduty-form .btnbox[data-v-2cd1716e]{margin-top:%?30?%}",""]),t.exports=i},baac:function(t,i,n){"use strict";n("6a54"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a={name:"CustomTop",data:function(){return{}},props:{top_title:{type:String},right_txt:{type:String},right_url:{type:String}},methods:{goBack:function(){uni.navigateBack()},goHome:function(){uni.switchTab({url:"/pages/index/index"})},switchTab:function(t){uni.switchTab({url:t})},jumpPage:function(t){uni.navigateTo({url:t})}}};i.default=a},ceec:function(t,i,n){var a=n("a643");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var e=n("967d").default;e("51001319",a,!0,{sourceMap:!1,shadowMode:!1})},d62e:function(t,i,n){"use strict";var a=n("ceec"),e=n.n(a);e.a},d8b1:function(t,i,n){"use strict";n.d(i,"b",(function(){return a})),n.d(i,"c",(function(){return e})),n.d(i,"a",(function(){}));var a=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("v-uni-view",[n("CustomTop",{attrs:{top_title:"设置密码"}}),t.loading?t._e():n("v-uni-view",{staticClass:"container"},[n("v-uni-form",{staticClass:"aduty-form",on:{submit:function(i){arguments[0]=i=t.$handleEvent(i),t.formSubmit.apply(void 0,arguments)}}},[""!=t.user.password?n("v-uni-view",[n("v-uni-view",{staticClass:"aduty-form-box"},[n("v-uni-view",{staticClass:"stitle"},[n("span",{staticClass:"txt"},[t._v("旧密码")])]),n("v-uni-view",{staticClass:"aduty-form-cell"},[n("v-uni-view",{staticClass:"aduty-form-cell-box"},[n("v-uni-view",{staticClass:"aduty-form-cell-bd"},[n("v-uni-input",{staticClass:"aduty-form-input",attrs:{name:"password_old",type:"password",placeholder:"请输入旧密码"}})],1)],1)],1)],1),n("v-uni-view",{staticClass:"aduty-form-box"},[n("v-uni-view",{staticClass:"stitle"},[n("span",{staticClass:"txt"},[t._v("新密码")])]),n("v-uni-view",{staticClass:"aduty-form-cell"},[n("v-uni-view",{staticClass:"aduty-form-cell-box"},[n("v-uni-view",{staticClass:"aduty-form-cell-bd"},[n("v-uni-input",{staticClass:"aduty-form-input",attrs:{name:"password",type:"password",placeholder:"请输入新密码"}})],1)],1)],1)],1),n("v-uni-view",{staticClass:"aduty-form-box"},[n("v-uni-view",{staticClass:"stitle"},[n("span",{staticClass:"txt"},[t._v("确认新密码")])]),n("v-uni-view",{staticClass:"aduty-form-cell"},[n("v-uni-view",{staticClass:"aduty-form-cell-box"},[n("v-uni-view",{staticClass:"aduty-form-cell-bd"},[n("v-uni-input",{staticClass:"aduty-form-input",attrs:{name:"password_confirm",type:"password",placeholder:"请输入确认新密码"}})],1)],1)],1)],1)],1):t._e(),""==t.user.password?n("v-uni-view",[n("v-uni-view",{staticClass:"aduty-form-box"},[n("v-uni-view",{staticClass:"stitle"},[n("span",{staticClass:"txt"},[t._v("登录密码")])]),n("v-uni-view",{staticClass:"aduty-form-cell"},[n("v-uni-view",{staticClass:"aduty-form-cell-box"},[n("v-uni-view",{staticClass:"aduty-form-cell-bd"},[n("v-uni-input",{staticClass:"aduty-form-input",attrs:{name:"password",type:"password",placeholder:"请输入登录密码"}})],1)],1)],1)],1),n("v-uni-view",{staticClass:"aduty-form-box"},[n("v-uni-view",{staticClass:"stitle"},[n("span",{staticClass:"txt"},[t._v("确认密码")])]),n("v-uni-view",{staticClass:"aduty-form-cell"},[n("v-uni-view",{staticClass:"aduty-form-cell-box"},[n("v-uni-view",{staticClass:"aduty-form-cell-bd"},[n("v-uni-input",{staticClass:"aduty-form-input",attrs:{name:"password_confirm",type:"password",placeholder:"请输入确认密码"}})],1)],1)],1)],1)],1):t._e(),n("v-uni-view",{staticClass:"aduty-form-action"},[n("v-uni-button",{staticClass:"aduty-btn aduty-btn-default",attrs:{formType:"submit"}},[t._v("确认提交")])],1)],1)],1)],1)},e=[]}}]);